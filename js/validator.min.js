$(document).ready(function(){$("textarea").on("keyup",function(e){var t,n,r,i,s,o,u,a,f;t=e.currentTarget.id;n=$("#schema").val();r=$("#json").val();if(t==="schema"&&n){try{window.schema=jQuery.parseJSON(n);$("#schemaErrors").hide();$("#schemaErrors").html("")}catch(l){$("#schemaErrors").show();$("#schemaErrors").html(l)}}if(t==="json"&&r){try{window.json=jQuery.parseJSON(r);$("#jsonErrors").hide();$("#jsonErrors").html("")}catch(c){$("#jsonErrors").show();$("#jsonErrors").html(c)}}f=n.length>0;a=r.length>0;u=$("#jsonErrors").html().length>0;o=$("#schemaErrors").html().length>0;if(f&&a&&!u&&!o){try{i=tv4.validate(window.json,window.schema);if(i===true){$("#success").show();$("#successMsg").html("Your JSON is valid against your schema");$("#error").hide()}else{var h=tv4.error.dataPath?" in "+tv4.error.dataPath:"";$("#error").show();$("#errorMsg").html(tv4.error.message+h);$("#success").hide()}}catch(p){}}else{$("#success").hide();$("#error").hide()}})})